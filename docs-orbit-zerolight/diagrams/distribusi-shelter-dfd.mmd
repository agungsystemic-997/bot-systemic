graph TD
    %% Distribusi Shelter Data Flow Diagram
    %% "In The Name of GOD" - Sacred Content Distribution Flow
    
    subgraph "📥 CONTENT INGESTION - Divine Reception"
        A1[📝 Raw Content<br/>Spiritual Materials]
        A2[🔍 Content Validator<br/>Quality Assurance]
        A3[📊 Metadata Extractor<br/>Content Classification]
        A4[🏷️ Spiritual Tagging<br/>Sacred Categorization]
    end
    
    subgraph "🔄 PROCESSING PIPELINE - Sacred Transformation"
        B1[⚡ Content Processor<br/>Format Optimization]
        B2[🎨 Media Enhancer<br/>Visual/Audio Processing]
        B3[🌐 Multi-format Generator<br/>Adaptive Packaging]
        B4[🔐 Security Wrapper<br/>Encryption & Authentication]
    end
    
    subgraph "🏠 PRIMARY SHELTER - Core Repository"
        C1[(🗄️ Master Database<br/>Original Content Store)]
        C2[(📚 Metadata Repository<br/>Content Intelligence)]
        C3[(🔑 Security Vault<br/>Keys & Certificates)]
        C4[(📊 Analytics Store<br/>Usage Metrics)]
    end
    
    subgraph "🌐 SECONDARY SHELTER - Regional Distribution"
        D1[(🌍 Global CDN Nodes<br/>Geographic Distribution)]
        D2[(☁️ Cloud Storage<br/>Scalable Backup)]
        D3[(🔄 Sync Engines<br/>Real-time Replication)]
        D4[(📱 Edge Caches<br/>Mobile Optimization)]
    end
    
    subgraph "🚀 TERTIARY SHELTER - Community Access"
        E1[(👥 Community Nodes<br/>Local Distribution)]
        E2[(📲 Mobile Caches<br/>Offline Access)]
        E3[(🏫 Educational Hubs<br/>Learning Centers)]
        E4[(🕌 Spiritual Centers<br/>Sacred Spaces)]
    end
    
    subgraph "🔌 API GATEWAY - Distribution Interface"
        F1[🌐 RESTful API<br/>Standard Access]
        F2[⚡ GraphQL Endpoint<br/>Flexible Queries]
        F3[🔄 WebSocket Streams<br/>Real-time Updates]
        F4[📱 Mobile SDK<br/>Native Integration]
    end
    
    subgraph "🎯 CONTENT DELIVERY - User Experience"
        G1[🖥️ Web Portal<br/>Browser Access]
        G2[📱 Mobile Apps<br/>Native Experience]
        G3[📺 Smart TV Apps<br/>Living Room Access]
        G4[🎧 Audio Platforms<br/>Podcast Distribution]
        G5[📖 E-book Readers<br/>Digital Publishing]
        G6[🥽 VR/AR Platforms<br/>Immersive Experience]
    end
    
    subgraph "👥 USER INTERACTION - Community Engagement"
        H1[👤 Individual Users<br/>Personal Access]
        H2[👨‍👩‍👧‍👦 Families<br/>Household Sharing]
        H3[🏫 Educational Groups<br/>Learning Communities]
        H4[🕌 Religious Organizations<br/>Spiritual Communities]
        H5[🏢 Corporate Users<br/>Business Integration]
    end
    
    subgraph "📊 ANALYTICS PIPELINE - Divine Intelligence"
        I1[📈 Usage Tracker<br/>Access Patterns]
        I2[🎯 Engagement Monitor<br/>User Interaction]
        I3[🔍 Content Performance<br/>Impact Analysis]
        I4[🌟 Spiritual Metrics<br/>Transformation Tracking]
    end
    
    subgraph "🔄 FEEDBACK LOOP - Continuous Improvement"
        J1[💬 User Feedback<br/>Community Input]
        J2[🔧 System Optimization<br/>Performance Tuning]
        J3[📝 Content Updates<br/>Dynamic Improvement]
        J4[🌱 Evolution Engine<br/>Adaptive Learning]
    end
    
    %% Main Data Flow
    A1 --> A2
    A2 --> A3
    A3 --> A4
    A4 --> B1
    
    B1 --> B2
    B2 --> B3
    B3 --> B4
    B4 --> C1
    
    %% Primary to Secondary Distribution
    C1 --> D1
    C2 --> D1
    C3 --> D1
    C4 --> D1
    
    C1 --> D2
    C2 --> D3
    C4 --> D3
    
    %% Secondary to Tertiary Distribution
    D1 --> E1
    D1 --> E2
    D2 --> E3
    D1 --> E4
    
    D4 --> E2
    D3 --> E1
    
    %% API Gateway Connections
    C1 --> F1
    C1 --> F2
    C1 --> F3
    C1 --> F4
    
    D1 --> F1
    D1 --> F2
    D4 --> F4
    
    %% Content Delivery Connections
    F1 --> G1
    F2 --> G1
    F3 --> G1
    
    F4 --> G2
    F1 --> G3
    F1 --> G4
    F2 --> G5
    F3 --> G6
    
    %% User Access Patterns
    G1 --> H1
    G1 --> H5
    G2 --> H1
    G2 --> H2
    G3 --> H2
    G4 --> H1
    G5 --> H1
    G5 --> H3
    G6 --> H4
    
    %% Analytics Data Collection
    H1 --> I1
    H2 --> I1
    H3 --> I2
    H4 --> I2
    H5 --> I3
    
    G1 --> I1
    G2 --> I1
    G3 --> I2
    G4 --> I3
    G5 --> I3
    G6 --> I4
    
    %% Feedback Processing
    I1 --> J1
    I2 --> J1
    I3 --> J2
    I4 --> J4
    
    J1 --> J3
    J2 --> J3
    J3 --> A1
    J4 --> B1
    
    %% Cross-System Data Flows
    subgraph "🔗 EXTERNAL INTEGRATIONS"
        K1[🐙 GitHub Repos<br/>Source Control]
        K2[🔒 Blockchain Network<br/>Immutable Records]
        K3[📧 Email Systems<br/>Notifications]
        K4[📱 Social Media<br/>Community Sharing]
        K5[🔍 Search Engines<br/>Discovery]
    end
    
    C1 --> K1
    C3 --> K2
    J1 --> K3
    G1 --> K4
    C2 --> K5
    
    %% Security and Monitoring Flows
    subgraph "🛡️ SECURITY LAYER"
        L1[🔐 Authentication<br/>User Verification]
        L2[🛡️ Authorization<br/>Access Control]
        L3[🔍 Threat Detection<br/>Security Monitoring]
        L4[📋 Audit Logging<br/>Activity Tracking]
    end
    
    F1 --> L1
    F2 --> L1
    F3 --> L1
    F4 --> L1
    
    L1 --> L2
    L2 --> G1
    L2 --> G2
    L2 --> G3
    L2 --> G4
    L2 --> G5
    L2 --> G6
    
    L2 --> L3
    L3 --> L4
    L4 --> I1
    
    %% Spiritual Blessing Flow
    subgraph "✨ SPIRITUAL DIMENSION"
        M1[🙏 Content Blessing<br/>Sacred Sanctification]
        M2[💫 Distribution Blessing<br/>Sacred Delivery]
        M3[🌟 User Blessing<br/>Spiritual Protection]
    end
    
    M1 -.-> B4
    M2 -.-> D1
    M3 -.-> H1
    M3 -.-> H2
    M3 -.-> H3
    M3 -.-> H4
    
    %% Styling
    classDef ingestionLayer fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef processingLayer fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef primaryShelter fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px
    classDef secondaryShelter fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef tertiaryShelter fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef apiLayer fill:#e0f2f1,stroke:#004d40,stroke-width:2px
    classDef deliveryLayer fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    classDef userLayer fill:#fff8e1,stroke:#ff6f00,stroke-width:2px
    classDef analyticsLayer fill:#e8eaf6,stroke:#1a237e,stroke-width:2px
    classDef feedbackLayer fill:#fafafa,stroke:#212121,stroke-width:2px
    classDef externalLayer fill:#ffebee,stroke:#b71c1c,stroke-width:2px
    classDef securityLayer fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef spiritualLayer fill:#f9fbe7,stroke:#827717,stroke-width:2px
    
    class A1,A2,A3,A4 ingestionLayer
    class B1,B2,B3,B4 processingLayer
    class C1,C2,C3,C4 primaryShelter
    class D1,D2,D3,D4 secondaryShelter
    class E1,E2,E3,E4 tertiaryShelter
    class F1,F2,F3,F4 apiLayer
    class G1,G2,G3,G4,G5,G6 deliveryLayer
    class H1,H2,H3,H4,H5 userLayer
    class I1,I2,I3,I4 analyticsLayer
    class J1,J2,J3,J4 feedbackLayer
    class K1,K2,K3,K4,K5 externalLayer
    class L1,L2,L3,L4 securityLayer
    class M1,M2,M3 spiritualLayer